= Test Guide
:toc: macro
:toc-title:
:toclevels: 1

toc::[]

== Setting up test environment

Requires *Go 1.14*

KAM code compile, build and testing happens with the above link:https://github.com/redhat-developer/kam/blob/master/go.mod#L3[`version`]. Developers are advised to stick to this version or above if they can otherwise using the lesser go version `1.13.*` causes link:https://github.com/redhat-developer/kam/issues/22[`issue`]

Unit test does not require any precondition, run `make test` to validate unit tests.   

== Tests

*Prerequisites for OpenShift cluster:*

* A `crc` environment for 4.5+ local cluster:
+
Follow link:https://github.com/code-ready/crc#documentation[`crc`] installation guide.
+
OR
* A 4.5+ cluster hosted remotely

NOTE: Make sure that `kam` and `oc` binaries are in `$PATH`. Use the cloned kam directory to launch tests on `4.5+`` clusters. `4.5+`` cluster needs to be configured before launching the tests against it. The files `kubeadmin-password` and `kubeconfig` which contain cluster login details should be present in the `auth` directory and it should reside in the same directory as `Makefile`. If it is not present in the auth directory, please create it. Then run `make prepare-test-cluster` to configure the `4.5+` cluster. `make prepare-test-cluster` comprises installation of sealed secrets, openshift pipelines, argocd operator and create sealed secrets instance.

*E2e tests:*
//TODO
